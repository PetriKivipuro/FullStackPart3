{"version":3,"sources":["components/Name.js","components/Filter.js","services/names.js","components/AddName.js","components/AddingInformationNote.js","components/AddInformationModification.js","App.js","index.js"],"names":["Name","persons","newFilter","removeInformation","FilteredPersons","filter","person","name","toLowerCase","includes","map","names","number","onClick","id","Filter","setNewFilter","value","onChange","event","target","baseUrl","axios","get","newObject","post","delete","put","AddName","setPersons","newName","setNewName","newNumber","setNewNumber","setModMessage","updateNumber","find","pers","nameService","then","response","update","p","data","setTimeout","catch","error","content","onSubmit","preventDefault","nameObject","Math","floor","random","some","window","alert","confirm","console","log","concat","type","AddingInformationNote","message","className","AddInformationModification","messageA","App","useState","errorMessage","setErrorMessage","modMessage","useEffect","length","aa","n","remove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c073b26.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Name = ({ persons, newFilter, removeInformation }) => {\r\n\r\n    const FilteredPersons = newFilter === ''\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n\r\n    return (\r\n        <div>\r\n            {FilteredPersons.map(names =>\r\n                <div key={names.name}> {names.name}, {names.number} <button onClick={() => removeInformation(names.id)}>delete </button> </div>\r\n                            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Name","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, setNewFilter }) => {\r\n    const filter = (event) => {\r\n        setNewFilter(event.target.value)\r\n    }\r\n    return (\r\n    <div>\r\n    Filter <input\r\n        value={newFilter}\r\n        onChange={filter} />\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/names'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove= (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default {getAll, create, remove, update}\r\n\r\n","import React from 'react'\r\nimport nameService from '../services/names'\r\n\r\nconst AddName = ({ persons, setPersons, newName, setNewName, newNumber, setNewNumber, setModMessage }) => {\r\n    const addName = (event) => \r\n    {\r\n\r\n        event.preventDefault()\r\n        const nameObject = {\r\n            name: newName,\r\n            number: newNumber,\r\n            id: Math.floor(Math.random() * 1000)\r\n\r\n        }\r\n   \r\n        if (persons.some(person => person.name.toLowerCase() === newName.toLowerCase() && person.number === newNumber)) {\r\n\r\n            window.alert(newName + ' has already been added')\r\n        }\r\n        else if (persons.some(person => person.name.toLowerCase() === newName.toLowerCase() && person.number !== newNumber)){\r\n            const notific = (window.confirm(`${newName} already exist. Do wish to update the number?`))\r\n                if(notific === true)\r\n                {\r\n                    updateNumber(nameObject) \r\n                }\r\n                else {\r\n                    return null\r\n                }\r\n        }       \r\n        else {\r\n            nameService\r\n            .create(nameObject)\r\n            .then(response => {\r\n                console.log(response)\r\n                setPersons(persons.concat(response.data))\r\n            setModMessage(\r\n                `${newName} is now added` \r\n            )\r\n            setTimeout(() =>{\r\n                setModMessage(null)\r\n                },5000)\r\n\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n       }\r\n    }\r\n\r\n\r\nconst updateNumber=(names) =>{\r\nconst find = persons.find(pers => pers.name.toLowerCase()===names.name.toLowerCase()).id\r\n\r\nnames={ ...names, id:find}\r\n\r\nnameService\r\n.update(find, names)\r\n.then(response => {\r\n    const update = persons.map(p => p.id !== find ? p : response.data)\r\n    setPersons(update)\r\n    \r\n    setModMessage(\r\n        `'${newName}' has now been updated!`\r\n    )\r\n    setTimeout(() =>{\r\n        setModMessage(null)\r\n        },5000)\r\n})\r\n  .catch(error => {\r\n                setModMessage(\r\n                    `name '${persons.content}' has been updated`\r\n                )\r\n                setTimeout(() =>{\r\n                setModMessage(null)\r\n                },5000)\r\n    })\r\n\r\n} \r\n    const handleNameChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewName(event.target.value)\r\n    }\r\n    const handleNumberChange = (event) => {\r\n        console.log(event.target.value)\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addName}>\r\n            name: <input\r\n                value={newName}\r\n                onChange={handleNameChange} />\r\n            <div>\r\n                number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange} />\r\n            </div>\r\n            <button type=\"submit\">add</button>\r\n\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default AddName","import React from 'react'\r\n\r\nconst AddingInformationNote= ({message}) => {\r\n    if (message=== null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AddingInformationNote","import React from 'react'\r\n\r\nconst AddInformationModification= ({messageA}) => {\r\n    if (messageA=== null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className=\"update\">\r\n            {messageA}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default AddInformationModification","import React, { useState, useEffect } from 'react'\r\nimport Name from './components/Name'\r\nimport Filter from './components/Filter'\r\nimport AddName from './components/AddName'\r\nimport nameService from './services/names'\r\nimport AddingInformationNote from './components/AddingInformationNote'\r\nimport AddInformationModification from './components/AddInformationModification'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('new name here..')\r\n  const [newNumber, setNewNumber] = useState('number here')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [modMessage, setModMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n      console.log('effect')\r\n      nameService.getAll()\r\n        .then(response => {\r\n          console.log('promise fullifille')\r\n          setPersons(response.data)\r\n        })\r\n    }, [])\r\n  console.log('Render', persons.length, 'persons')\r\n\r\nconst removeInformation=(id) => {\r\nconst aa = persons.find(n => n.id === id)\r\n\r\nconst warning = (window.confirm(`Are you sure you want to delete ${aa.name}`))\r\n\r\nif (warning === true)\r\n{\r\n  nameService\r\n  .remove(id)\r\n  .then(response => {\r\n  \r\n    const remove = persons.filter(person => id !== person.id)\r\n    setPersons(remove)\r\n    \r\n    setErrorMessage(\r\n      `name '${aa.name}' was deleted`\r\n    )\r\n    setTimeout(() =>{\r\n    setErrorMessage(null)\r\n  },5000)\r\n    })\r\n  //This has been added\r\n  // When shall we get this next message?\r\n  .catch(error => {\r\n      setErrorMessage(\r\n        `name '${persons.content}' has already deleted`\r\n      )\r\n      setTimeout(() =>{\r\n      setErrorMessage(null)\r\n    },5000)\r\n  })\r\n    \r\n       \r\n}\r\n\r\n\r\n}\r\n  return (\r\n    < div >\r\n\r\n      <h2>Phonebook</h2>\r\n\r\n      <AddingInformationNote message={errorMessage} />\r\n      <AddInformationModification messageA={modMessage}/>\r\n\r\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\r\n\r\n      <h2>Add a new</h2>\r\n      <AddName newName={newName} setNewName={setNewName} newNumber={newNumber} \r\n      setNewNumber={setNewNumber} persons={persons} setPersons={setPersons}\r\n      setModMessage = {setModMessage} />\r\n\r\n      <div>\r\n        <h2>Numbers</h2>\r\n\r\n        <Name persons={persons} newFilter={newFilter} setNewFilter={setNewFilter} removeInformation={removeInformation}/>\r\n\r\n\r\n      </div>\r\n    </div >\r\n\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}